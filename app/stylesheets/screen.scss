/* Welcome to Compass.
 * In this file you should write your main styles. (or centralize your imports)
 * Import this file using the following HTML or equivalent:
 * <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css" /> */

@import "compass/reset";
@import "blueprint/grid";
@import "blueprint/typography";
@import "custom-inputs.sass";

// Variables
$masthead_bg: #0f72a4;

// Partials
@import "partials/base.scss";
@import "partials/text.scss";

#modalFrameDialog {
    padding: 0;
}
#modalFrame {
    width: 100%;
    height: 99%;    
}

sup {
    font-size: xx-small;
    vertical-align: text-top;
}

body {
  font-family: Verdana, sans-serif;
  font-size: 0.8em;
  line-height: normal;
  background-color: #eeeeee;
}

#mastfoot {
  margin: 0 auto;
  max-width: 900px;
  text-align: right;
  color: #aaaaaa;

  &:before {
    content: "\2014"; 
  }
  
  &:after {
    content: "\2014"; 
  } 
}

#noscript-warning {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  background: yellow;
  border: 4px solid red;
  color: red;
  font-size: 1.5em;
  text-align: center;
}

.nowrap{
    white-space:nowrap;
}

select {
    width:100%;
}

@mixin tablemix($mainlabel_columns ) {
    .table {
        @include nested-reset;
        p, div {
            display:inline;
        }
        
        caption{
            margin-bottom: 0.5em;
        }
        
        .errors{
            border: 2px solid red !important;
        }
        
        .error{
            display: inline-block;
            background: #ffbbbb;
            border: 1px solid #ff3333;
            &.hidden{
                display:none;
            }
        }
        table{
            *{
                width:auto;
            }
            
            .option {
                white-space:normal;
            }
            
            border-bottom: 1px solid black;
            
            border-collapse: collapse; 
            .row{
                td, th{
                    display:table-cell;
                    border: 0;
                    border-bottom:1px solid #000;
                    vertical-align:top;
                    &.main{
                        vertical-align:middle;
                    }
                    float: none;
                }
                &.inner_row td{border:0;}
                &:first-child td{border-top:1px solid black;}
                 
                @include column($blueprint-grid-columns, true);
                float:none;
                display:table-row;
                
                input {
                    &.float , &.integer {
                        @include column(2, true);
                    }
                    &.string , &.textarea {
                        width:92%;
                    } 
                }
                .unit {
                    vertical-align: -20%;
                    padding-left: 4px;
                }
            }
            margin:0;
        }
        .main {
            width: (100%/3);
            float:none;
            display:table-cell;
            label small { font-size: 0.7em; }
        }
        .description{
            text-align: right;
        }
            
        .option_sets{
            .option{
                padding-left:1em;
                vertical-align:bottom;                
            }
        }
        .dark{
            background-color: #eee;
        }
        .light{
            background-color: #fff;
        }
    }
}

#content {
    
  input[disabled] {
      background-color: #ddd;
  }

  margin: 6em auto 0em auto;
  
  .flash {
    @include container;

    margin-bottom: 1em;
    div {
      padding: 5px;
      background: #333333;
      border: 1px solid black;
    }
    
    .error {
      background: #ffbbbb;
      border: 1px solid #ff3333;
    }
    .notice {
      background: #ffffcc;
      border: 1px solid #ffcc66;
    }
  }
  
  .force-submit {
    background: #ffffcc;
    border: 1px solid #ffcc66;
    padding: 3em;
    font-size: 1.2em;
    margin-bottom: 5em;

    h1 { font-weight: bold; margin-bottom: 1em;}
    p  { margin-bottom: 1em; }
  }
  
  .specifier{
      margin: 0 !important;
      &.errors , input{
        width:auto !important;    
      }
  }  
  
  .paged {
    $mainlabel_columns : 8;
    .panel {
      @include container;
      
      padding: 3em $blueprint-grid-outer-width 1.5em;
            
      background: white;
      border: 10px solid #dddddd;
      margin-bottom: 2em;
      
      h1 {
        font-size: 1.5em;
        font-weight: bold;
        margin-bottom: 1.2em;
        z-index: 400;
      }

      hr { height: 8px; border: 0; background: #ddd; }
      
      .buttons {
        @include column($blueprint-grid-columns, true);
        margin: 1.5em (-$blueprint-grid-outer-width) -1.5em;
        padding: 1.5em $blueprint-grid-outer-width;
        border-top: 1px dotted #d6d6d6;
        background: #f3f3f3;
        position: relative;

        .back { @include column(6); }
        .prev { @include column(6); }
        .abort { @include column(12); text-align: center; }
        .print { @include column(24); text-align: right; }
        .next { @include column(6, true); text-align: right; }
        .save { @include column(6, true); text-align: right; }
        #hotkeyDialogLink { position: absolute; top: 7.5em; left: 30px; }
      }
      
      .item { 
        @include column($blueprint-grid-columns, true);
        margin-bottom: 18px;
        &.hidden{ display:none; }

        &.errors {
          border: 1px solid red;
          padding: 0.4em;
          .error {
            background: #ffaaaa;
            color: #550000;
            border: 1px solid red;
            padding: 0.3em;
            margin-bottom: 0.3em;
          }
        }
        
        .main {
          @include column($mainlabel_columns);
          font-weight: bold;
          .mainlabelwrap{
              float:left;
              width:85%;
          }
          em {
              font-style: italic;
          }
          .qnumber{
              float:left;
              padding-right:0.2em;
          }
        }
        
        .text {
          @include text;
        }

        .description-and-fields {
          @include column($blueprint-grid-columns - $mainlabel_columns, true);

          // have to say div.description, because scale uses a table, and including column on tds would break
          div.description { @include text; @include column($blueprint-grid-columns - $mainlabel_columns, true); }
          .fields { @include column($blueprint-grid-columns - $mainlabel_columns, true); }
        }

        // Specific CSS for presentation styles

        &.horizontal {
          .main { 
              @include column($blueprint-grid-columns, true);
              @include append-bottom(1em);
              .mainlabelwrap{
                  width:90%;
              }
           }
          .description-and-fields, div.description, .fields { @include column($blueprint-grid-columns, true); }
          &.radio, &.check_box {
                  .option {
                    @include column($blueprint-grid-columns, true);
                    .labelwrapper { @include column(23, true); } 
                    &.show_values {
                        .labelwrapper { @include column(22, true); }
                  }
               }
           }
        }

        // Specific CSS for certain item types
      
        &.string, &.textarea {
          input, textarea { width: 100%; }
        }

        &.radio, &.check_box {
          .inner-title {
            @include column($blueprint-grid-columns - $mainlabel_columns, true);
            margin-top: 1.5em;
            margin-bottom: 1.5em;
            font-weight: bold;
          }

          .option {
            @include column($blueprint-grid-columns - $mainlabel_columns, true); 
            .radiocheckwrapper { @include column(1); }
            .labelwrapper { 
              @include column(23-$mainlabel_columns, true); 
              p { display: inline; }
            }

            &.show_values {
              .value { @include column(1); text-align: center; }
              .labelwrapper { @include column(22-$mainlabel_columns, true); }
              
            }

            .subquestions {
              @include prepend(1);
              @include column(23-$mainlabel_columns);

              .item { 
                @include column(23-$mainlabel_columns); 
                input { width: auto; }
              }
            }
          }
        }

        &.scale {
            //@for $n from 1 to 19 {
            //    .options#{$n}  table { @include column( $n, true); @include append(18-$n); }
            //}
            
            &.horizontal {
            // we need to reset this to be table cells
                .description { float: none; display: table-cell; }
            }
            td {
                border: 0;
                text-align: center;
            }
            
            .option, .description { 
                &.optionwidth1{width:20%}
                &.optionwidth2{width:20%}
                &.optionwidth3{width:20%}
                &.optionwidth4{width:20%}
                &.optionwidth5{width:20%}
                &.optionwidth6{width:(100%/6)}
                &.optionwidth7{width:(100%/7)}
                &.optionwidth8{width:(100%/8)}
                &.optionwidth9{width:(100%/9)}
                &.optionwidth10{width:(100%/10)}
                &.optionwidth11{width:(100%/11)}
                &.optionwidth12{width:(100%/12)}                
            }
            
            .option.last, .description.last { @include last; }
        }
      }
      @include tablemix($mainlabel_columns );
    }
  }
  
  .bulk {
    @include container;
    
    border: 10px solid #dddddd;
    padding: 3em $blueprint-grid-outer-width 1.5em;
    line-height: 18px;
    background: white;
    
    .buttons {
      @include column($blueprint-grid-columns, true);
      margin: 1.5em (-$blueprint-grid-outer-width) -1.5em;
      padding: 1.5em $blueprint-grid-outer-width;
      border-top: 1px dotted #d6d6d6;
      background: #f3f3f3;

      .prev { @include column(6); }
      .abort { @include column(12); text-align: center; }
      .print { @include column(12); text-align: center; }
      .next { @include column(6, true); text-align: right; }
      .save { @include column(6, true); text-align: right; }
    }

    .panel {
      @include column($blueprint-grid-columns, true);
      
      h1 {
        font-size: 1.5em;
        font-weight: bold;
        margin-top: 2em;
        margin-bottom: 1.2em;
        z-index: 400;
      }
      
      &.first .buttons {
        .abort { @include prepend(6); }
        .print { @include prepend(6); }
      }
      
    .option.last, .description.last { @include last; }
    
    .options {
        @include prepend(12);
        @include column(12, true);
        margin-top: 1em;
        .option {
            text-align: center;
        }
    }
    .option {
        display: inline;
        float: left;
        &.optionwidth1{width:20%}
        &.optionwidth2{width:20%}
        &.optionwidth3{width:20%}
        &.optionwidth4{width:20%}
        &.optionwidth5{width:19%}
        &.optionwidth6{width:(100%/6)}
        &.optionwidth7{width:(100%/7)}
        &.optionwidth8{width:(100%/8)}
        &.optionwidth9{width:(100%/9)}
        &.optionwidth10{width:(100%/10)}
        &.optionwidth11{width:(100%/11)}
        &.optionwidth12{width:(100%/12)}
        white-space:nowrap;
        &.scaleheader{
            white-space:normal;        
        }
    }
      .item { 
        @include column($blueprint-grid-columns, true);
        &.hidden{ display:none;}

        &.errors {
          border: 1px solid red;
          padding: 0.4em;
          .error {
            background: #ffaaaa;
            color: #550000;
            border: 1px solid red;
            padding: 0.3em;
            margin-bottom: 0.3em;
          }
        }
        
        label.main {
          @include column(12, true);
          //font-weight: bold;
        }
        
        .text {
          @include text;
          margin-top: 3em;
        }

        .description-and-fields {
          @include column(12, true);

          // have to say div.description, because scale uses a table, and including column on tds would break
          div.description { @include text; @include column(12, true); }
          .fields { @include column(12, true); }
        }

        // Specific CSS for presentation styles

        // Not sure we want this
        //&.horizontal {
        //  label.main { @include column($blueprint-grid-columns, true); @include append-bottom; }
        //  .description-and-fields { @include column($blueprint-grid-columns, true); }
        //  .description { @include column($blueprint-grid-columns, true); }
        //  .fields { @include column($blueprint-grid-columns, true); }
        //}

        // Specific CSS for certain item types
      
        &.string, &.textarea {
          margin-bottom: 0.5em;
          &.bulkitem {
            margin-bottom: 0.0em;
          }
          input, textarea { @include column(12,true); }
        }
        
        &.bulkitem {
            padding: 0.5em 0em 0.5em 0.5em;
            &.radio, &.check_box, &.scale {
                .fields.options1  table { @include column( 1, true); @include append(17); }
                .fields.options2  table { @include column( 2, true); @include append(16); }
                .fields.options3  table { @include column( 3, true); @include append(15); }
                .fields.options4  table { @include column( 4, true); @include append(14); }
                .fields.options5  table { @include column( 5, true); @include append(13); }
                .fields.options6  table { @include column( 6, true); @include append(12); }
                .fields.options7  table { @include column( 7, true); @include append(11); }
                .fields.options8  table { @include column( 8, true); @include append(10); }
                .fields.options9  table { @include column( 9, true); @include append( 9); }
                .fields.options10 table { @include column(10, true); @include append( 8); }
                .fields.options11 table { @include column(11, true); @include append( 7); }
                .fields.options12 table { @include column(12, true); @include append( 6); }
                .fields.options13 table { @include column(13, true); @include append( 5); }
                .fields.options14 table { @include column(14, true); @include append( 4); }
                .fields.options15 table { @include column(15, true); @include append( 3); }
                .fields.options16 table { @include column(16, true); @include append( 2); }
                .fields.options17 table { @include column(17, true); @include append( 1); }
                .fields.options18 table { @include column(18, true);                      }
                // more than 18 options is future work
            
                &.horizontal {
                    // we need to reset this to be table cells
                    .description { float: none; display: table-cell; }
                }
                .options {
                    @include column(12, true);
                    @include prepend(12);
                    margin-top: 1em;
                }
                .option {
                    text-align: center;                                    
                }
            }
        }

        &.notbulkitem {
          @include column($blueprint-grid-columns, true);
          padding: 0.5em 0em 0.5em 0.5em;
          margin-bottom: 1em;

          $mainlabel_columns : 8;
          .main {
            @include column($mainlabel_columns);
            .mainlabelwrap{
                float:left;
                width:85%;
            }
            em {
                font-style: italic;
            }
            .qnumber{
                float:left;
                padding-right:0.2em;
            }
          }

          &.radio, &.check_box, &.scale {
            .inner-title {
              @include column($blueprint-grid-columns - $mainlabel-columns, true);
              margin-top: 1.5em;
              margin-bottom: 1.5em;
              font-weight: bold;
            }

            .option {
              @include column($blueprint-grid-columns - $mainlabel-columns, true); 
              display: block;
              .radiocheckwrapper { 
                @include column(1);
              }
              .labelwrapper      { 
                @include column(23-$mainlabel-columns, true); 
                label { white-space: normal; }
                p { display: inline; }
              }

              &.show_values {
                .value { @include column(1); text-align: center; }
                //.labelwrapper { @include column(16, true); }
              }

              .subquestions {
                  @include prepend(1);
                  @include column(11);

                  .item { 
                       @include column(11); 
                       input { width: auto; }
                  }
              }
            }
          }
        }
      }
      @include tablemix(8);
    }
  }
}

.evenRow {
    background-color: #eeeeee;
}

.oddRow {
    //background-color: #f1ffe4;
}

#hotkeyDialog {
    p {
        margin: 1em 0;
    }
    td {
        border: 0px;
    }
}

#flash {
  padding: 0.7em;
  margin: 0 0 2em 0;
  border: 1px solid black;
  &.notice {
    background-color: #ffffcc;
    border-color: #ffcc66;
  }
  &.success {
    background-color: #ccffcc;
    border-color: #11cc11;
  }
  &.error {
    background-color: #ffcccc;
    border-color: #cc1111;
  }
}

table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 1.5em;
  thead tr th {
    background: black;
    color: white;
    padding: 5px;
  }
  
  tr.even {
    background: #e9e9e9;
  }
  
  td {
    padding: 5px;
    border: 1px solid #cecece;
    vertical-align: top;
  }
}

.ui-dialog-buttonpane {
    overflow: hidden !important;
}

pre {
  font-family: "Deja Vu Sans Mono", "Courier New", "Courier", monospace;
}

.hidden { display: none;}

.question {
  background: #e5e5e5;
  margin: 2em;
  padding: 2em;
}

//jquery placeholder styling
//match placeholder/watermark padding to border+padding for input element
label.placeholder {
  cursor: text;
  padding: 4px 4px 4px 4px;
  color: #999999;
}

//html5 placeholder support
input::-webkit-input-placeholder, textarea::-webkit-input-placeholder {
  color: #999999;
}

input:placeholder, textarea:placeholder {
  color: #999999;
}

.focus {
    background: #cce8ed !important;
}

.print {
    a {
        color: blue;
        text-decoration: underline;
        cursor: pointer;
    }
}
